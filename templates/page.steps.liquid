<div class="page-width">
    <div class="grid">
        <div class="grid__item medium-up--five-sixths medium-up--push-one-twelfth">
            <!-- Flickity HTML init -->
            <div class="carousel">
                <div class="carousel-cell">{% section 'step-one' %}</div>
                <div class="carousel-cell">{% section 'step-two' %}</div>
                <div class="carousel-cell">{% section 'step-three' %}</div>
            </div>
        </div>
    </div>
</div>



<script>
    $(function() {
        var maxSlides = 3;
        var userSelectedSlide = 1;
        var userOptions = {
            currentSlideSelected : userSelectedSlide,
            hygeineType : 0,
            addons:[],
        };
        var addonProduct = {
            name:'',
            id:'',
            quantity: '',
            addType: '' // Subscription or One Time
        };

        var sliderIndex = userSelectedSlide - 1; // It is always current Slide number - 1 -> just like array index
        var $carousel = $('.carousel').flickity() 
                        .flickity( 'select', sliderIndex);

        $('input[name=step-one-hygeine]').on('change', function() {
            userOptions['hygeineType'] = $(this).val();
            userSelectedSlide = userSelectedSlide + 1;
            $carousel.flickity('next');
        });
    });
</script>
      